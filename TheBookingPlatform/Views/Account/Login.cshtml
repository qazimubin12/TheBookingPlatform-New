@using TheBookingPlatform.Models
@model LoginViewModel
@{
    ViewBag.Title = "Log in";
    Layout = null;
}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" sizes="76x76" href="~/Content/TBPContent/v2blacklogo.png">
    <link rel="icon" type="image/png" href="~/Content/TBPContent/v2blacklogo.png">

    <title>The Booking Platform</title>

    <!--     Fonts and icons
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
    <!-- Nucleo Icons -->
    <link href="~/Content/MainTemplate2/assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="~/Content/MainTemplate2/assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <!-- CSS Files -->
    <link id="pagestyle" href="~/Content/MainTemplate2/assets/css/material-dashboard.css?v=3.0.6" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <style>
        .btn-primary {
            background: #24244B !important;
            border-color: #24244B !important;
            transition: background 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
        }
   
            .btn-primary:hover {
                background: #1a1a36;
            }

        .text-primary {
            color: #24244B !important;
        }

        .bg-gradient-primary {
            background: #24244B !important;
            border-color: #24244B !important;
        }

        .loading-spinner-overlay {
            display: none; /* Initially hidden */
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: 9999; /* Ensure it appears above all other content */
            background-color: rgba(0,0,0,0.5); /* Transparent black */
        }
        .input-group input {
            border: 1px solid #ccc;
            padding: 12px 15px;
            font-size: 14px;
        }

        .spinner {
            border: 16px solid #f3f3f3;
            border-top: 16px solid #3498db;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        @@keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }



        #elementToShow {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: none;
        }
    </style>
    <style>
            .constellation {
                display: flex;
                flex-wrap: wrap;
                width: 100%;
                max-width: 1200px;
                padding: 40px;
                justify-content: center;
            }

            .row {
                display: flex;
                justify-content: center;
                /*      margin-bottom: 30px;
        */
            }

                .row:nth-child(odd) {
                    margin-left: 100px; /* OFFSET for hexagonal look */
                }

        .industry {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: all 0.3s ease, transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 2;
            margin: 12px 24px;
            width: 90px;
            height: 90px;
        }

            .industry:hover {
                transform: scale(1.15);
                background: linear-gradient(135deg, #4158D0, #C850C0, #FFCC70);
                box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
                color: #fff;
            }
            


            .icon {
                font-size: 32px;
                margin-bottom: 8px;
                transition: transform 0.3s;
            }

            .industry:hover .icon {
                transform: rotate(15deg);
            }

            .industry-name {
                font-weight: bold;
                font-size: 14px;
                color: #555;
            }

            .industry:hover .industry-name {
                color: white;
            }

            /* Responsive */
            @@media (max-width: 768px) {
                .row {
                    margin-left: 0 !important;
                }

                .industry {
                    width: 100px;
                    height: 100px;
                    margin: 8px;
                }
            }

            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }

        .full-page.register-page {
            display: flex;
            height: 100%;
            padding: 10px; /* Reduced padding */
            background: linear-gradient(135deg, #f6f9ff, #ffffff);
        }

        .illustration-section {
            flex: 1;
            /*  background: url('https://demos.creative-tim.com/material-dashboard-pro/assets/img/illustrations/illustration-signup.jpg')
                        no-repeat center center;
            background-size: cover;*/
            display: flex;
            background: linear-gradient(135deg, #f6f9ff, #ffffff);
            align-items: center;
            justify-content: center;
            text-align: center;
            border-radius: 10px;
            transform: scale(0.9);
        }

        .form-section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
            padding: 40px 20px;
            border-radius: 10px;
        }

            .card-signup {
                width: 100%;
                padding: 20px !important;
                border-radius: 10px;
                box-shadow: none !important;
            }


            .input-group input {
                width: 100%;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 5px;
            }

            .btn-primary {
                background: #3f51b5;
                border: none;
                padding: 10px;
                border-radius: 5px;
                width: 100%;
            }

                .btn-primary:hover {
                    background: #303f9f;
                }

            .input-group .input-group-addon {
                border: 0;
                background: transparent;
                padding: 6px 6px 0px !important;
            }

            .register-page .card-signup .input-group .input-group-addon {
                padding: 0px 20px !important;
                margin: auto !important;
            }

            .input-group {
                margin-bottom: 0px; /* Less spacing between fields */
            }

                .input-group .form-control:first-child, .input-group-addon:first-child, .input-group-btn:first-child > .btn, .input-group-btn:first-child > .btn-group > .btn, .input-group-btn:first-child > .dropdown-toggle, .input-group-btn:last-child > .btn-group:not(:last-child) > .btn, .input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle) {
                    border-top-right-radius: 0;
                    border-bottom-right-radius: 0;
                }

            .register-page .card-signup {
                border-radius: 6px;
                box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
                margin-bottom: 40px !important;
                padding: 15px 0px !important;
            }
            /* Mobile View Adjustments */
            @@media (max-width: 768px) {
                .full-page.register-page {
                    flex-direction: column;
                    align-items: center;
                    padding: 10px;
                }


                .input-group {
                    margin-bottom: 10px; /* Less spacing between fields */
                }

                .illustration-section {
                    display: none; /* Hide illustration on mobile */
                }

                .form-section {
                    width: 100%;
                    padding: 15px;
                }

                .card-signup {
                    width: 100%;
                    max-width: 380px;
                }
            }
    </style>

    <!-- Nepcha Analytics (nepcha.com) -->
    <!-- Nepcha is a easy-to-use web analytics. No cookies and fully compliant with GDPR, CCPA and PECR. -->
</head>


<!--   Core JS Files   -->
<!--</body>-->




<body class="off-canvas-sidebar">

    <!-- End Google Tag Manager (noscript) -->

    <div class="full-page register-page">
        <!-- Illustration Section -->
        <div class="illustration-section">
            <div class="constellation">

                <!-- Row 1 -->
                <div class="row">
                    <div class="industry"><div class="icon">💇</div><div class="industry-name">Hair Salons</div></div>
                    <div class="industry"><div class="icon">✂️</div><div class="industry-name">Barber Shops</div></div>
                    <div class="industry"><div class="icon">💅</div><div class="industry-name">Nail Salons</div></div>
                </div>

                <!-- Row 2 (offset) -->
                <div class="row">
                    <div class="industry"><div class="icon">💋</div><div class="industry-name">Makeup Artists</div></div>
                    <div class="industry"><div class="icon">👁️</div><div class="industry-name">Eyebrow & Lash</div></div>
                    <div class="industry"><div class="icon">🧖</div><div class="industry-name">Spas</div></div>
                </div>

                <!-- Row 3 -->
                <div class="row">
                    <div class="industry"><div class="icon">💆</div><div class="industry-name">Massage Therapists</div></div>
                    <div class="industry"><div class="icon">☯️</div><div class="industry-name">Holistic Healers</div></div>
                    <div class="industry"><div class="icon">🛁</div><div class="industry-name">Tanning Salons</div></div>
                </div>

                <!-- Row 4 (offset) -->
                <div class="row">
                    <div class="industry"><div class="icon">🧴</div><div class="industry-name">Skincare Clinics</div></div>
                    <div class="industry"><div class="icon">💉</div><div class="industry-name">Aesthetic Clinics</div></div>
                    <div class="industry"><div class="icon">🦷</div><div class="industry-name">Dental Clinics</div></div>
                </div>

                <!-- Row 5 -->
                <div class="row">
                    <div class="industry"><div class="icon">👨‍⚕️</div><div class="industry-name">Dermatology</div></div>
                    <div class="industry"><div class="icon">🏋️</div><div class="industry-name">Personal Trainers</div></div>
                    <div class="industry"><div class="icon">🧘</div><div class="industry-name">Yoga Studios</div></div>
                </div>

                <!-- Row 6 (offset) -->
                <div class="row">
                    <div class="industry"><div class="icon">⚕️</div><div class="industry-name">Physiotherapists</div></div>
                    <div class="industry"><div class="icon">🦴</div><div class="industry-name">Chiropractors</div></div>
                    <div class="industry"><div class="icon">✈️</div><div class="industry-name">Mobile Services</div></div>
                </div>

            </div>
        </div>

        <!-- Form Section -->
        <div class="form-section">
            <div class="card card-signup">
                <img class="img-fluid" style=" margin-bottom: 15px; width: 40%; display: flex; justify-self: center;" src="~/Content/TBPContent/v2 ybp logo design-02.png" />
                <h6 style="margin-bottom:0px !important; " class="card-title "><b>Sign In</b></h6>
                <p style="  margin-bottom:0px !important; " class="mb-0">Enter your email and password to login</p>


                @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "text-start", role = "form", onsubmit = "return onSubmitForm(event)" }))
                {
                    <div class="input-group input-group-outline my-3">
                        @*<label class="form-label">Email</label>*@
                        <input id="Email" name="Email" type="email" class="form-control" placeholder="Enter Email">
                    </div>
                    <div class="input-group input-group-outline mb-3">
                        @*<label class="form-label">Password</label>*@
                        <input name="Password" id="Password" type="password" class="form-control" placeholder="Enter Password">
                    </div>

                    <div class="text-center">
                        <button type="submit" id="SubmitButton" class="btn bg-gradient-primary w-100 my-4 mb-2">Sign in</button>
                    </div>
                    <p class="mt-4 text-sm text-center">
                        Don't have an account?
                        <a href="@Url.Action("Register", "Account")" class="font-weight-bold">Sign up</a>
                    </p>
                }
                <footer style=" display: flex; justify-content: center;">
                    <p>Made <i class="fa fa-heart"></i> by <a href="https://yourbookingplatform.com" target="_blank">Your Booking Platform. </a> </p>
                </footer>
            </div>

        </div>
        
    </div>
    

    <!-- Forms Validations Plugin -->
    <script src="~/Content/MainTemplate/assets/js/jquery.validate.min.js"></script>

    <!-- Material Dashboard javascript methods -->
    <!-- Custom Script for Form Validation -->
    <script src="~/Content/MainTemplate2/assets/js/core/popper.min.js"></script>
    <script src="~/Content/MainTemplate2/assets/js/core/bootstrap.min.js"></script>
    <!-- Kanban scripts -->
    <script type="text/javascript">

function onSubmitForm(event) {
    saveCredentials();
    document.getElementById("SubmitButton").disabled = true;
    return true;
}
function showLoadingSpinner() {
    document.getElementById('loadingSpinner').style.display = 'block';
}
function hideLoadingSpinner() {
    document.getElementById('loadingSpinner').style.display = 'none';
}


function checkLocalStorageCredentials() {
    var email = localStorage.getItem('Mainemail');
    var password = localStorage.getItem('Mainpassword');
    if (email && password) {

        $.ajax({
            type: 'GET',
            url: '@Url.Action("CheckUser", "Account")',
            data: { email: email, pasword: password }
        })
            .done(function (response) {

                if (response.success) {
                    // For now, we'll just delay the fade out for demonstration
                    showLoadingSpinner();
                    // Perform an AJAX request or any required mechanism to log in
                    $("#Email").val(email);
                    $("#Password").val(password);
                    $("#SubmitButton").click();
                }

            })
            .fail(function (XMLHttpRequest, textStatus, errorThrown) {
                hideLoadingSpinner();
                alert("Incorrect Credentials");
            });
    }
    else
    {
        hideLoadingSpinner();
        alert("Incorrect Credentials");
    }
}





function saveCredentials() {
    var email = document.getElementById('Email').value;
    var password = document.getElementById('Password').value;

    // Store credentials in localStorage
    localStorage.setItem('Mainemail', email);
    localStorage.setItem('Mainpassword', password);

    // Perform further actions like sending this information to the server
    // e.g., using fetch() or XMLHttpRequest to pass this information to the .NET MVC backend
}
$(document).ready(function () {
    $("#FooterNAV").hide();

    checkLocalStorageCredentials();
});
    </script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="~/Content/MainTemplate2/assets/js/material-dashboard.min.js?v=3.0.6"></script>
</body>
</html>